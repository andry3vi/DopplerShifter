<!DOCTYPE html>
<html>
   <head>
      <!-- <link rel="stylesheet" href="css/styles.css?v=2"> -->
      <link rel="shortcut icon" href="#">
      <!-- <script type="text/javascript" src="nuclides.json"></script> -->
  <link href="./css/styles.css" rel="stylesheet">
      <script src="https://cdn.jsdelivr.net/npm/danfojs@1.1.2/lib/bundle.min.js"></script>
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js" type="text/javascript"></script>
      <!-- <script src="https://cdn.jsdelivr.net/npm/chart.js"></script> -->
      <script src="https://cdn.plot.ly/plotly-2.35.2.min.js" charset="utf-8"></script>


   </head>
<body>

  <div id="container" class="site-container">
    <!-- Top: transition information (left) and reference (right) -->
    <div class="top-grid">
      <section class="card transitions" aria-labelledby="transitions-heading">
        <h2 id="transitions-heading" class="card-title">Transition Information</h2>
        <div class="card-body">
          <table class="table-fixed compact">
            <tbody>
              <tr>
                <td class="cell-dark">E lower</td>
                <td><input type="number" placeholder="0" min="0" id="_Elow" class="input-full" /></td>
                <td class="cell-dark">J lower</td>
                <td><input type="number" placeholder="J" min="0" step="0.5" id="_Jlow" class="input-full" /></td>
              </tr>
              <tr>
                <td class="cell-dark">E upper [cm-1]</td>
                <td><input type="number" placeholder="0" min="0" id="_Eup" class="input-full" /></td>
                <td class="cell-dark">J upper</td>
                <td><input type="number" placeholder="[J]" min="0" step="0.5" id="_Jup" class="input-full" /></td>
              </tr>
              <tr>
                <td class="cell-dark">Wavelength [nm]</td>
                <td><input type="number" placeholder="0" min="0" id="_Wl" class="input-full" /></td>
                <td class="cell-dark">Frequency [Hz]</td>
                <td><input type="number" placeholder="0" min="0" id="_Fq" class="input-full" /></td>
              </tr>
              <tr>
                <td class="cell-dark">Wavenumber [cm-1]</td>
                <td><input type="number" placeholder="0" min="0" id="_Wn" class="input-full" /></td>
                <td></td>
                <td></td>
              </tr>
            </tbody>
          </table>
        </div>
      </section>

      <!-- reference moved below to live in the same single-column flow as isotope and plot -->
    </div>

    <section class="card reference" aria-labelledby="reference-heading">
      <h2 id="reference-heading" class="card-title">Reference Information</h2>
      <div class="card-body">
        <div class="reference-grid">
          <div class="ref-main">
            <table class="table-fixed compact">
              <tbody>
                <tr>
                  <td class="cell-dark">A</td>
                  <td class="cell-dark">Z</td>
                  <td class="cell-dark">El</td>
                </tr>
                <tr>
                  <td><input type="number" placeholder="[A]" min="0" max="294" step="1" id="_Aref" class="input-full"/></td>
                  <td><input type="number" placeholder="[Z]" min="0" max="118" step="1" id="_Zref" class="input-full"/></td>
                  <td><input type="text" placeholder="[El]" list="Elements" id="_Elref" class="input-full"/></td>
                </tr>
                <tr>
                  <td class="cell-dark">spin</td>
                  <td colspan="2"><input placeholder="[I]" id="_Iref" class="input-full"/></td>
                </tr>
                <tr>
                  <td class="cell-dark">Mass [u]</td>
                  <td colspan="2"><input type="number" placeholder="[u]" min="0" id="_Massuref" class="input-full"/></td>
                </tr>
                <tr>
                  <td><button class="btn btn-primary" onclick="SaveConfiguration()">Save</button></td>
                  <td><button class="btn btn-primary" onclick="LoadConfiguration()">Load</button></td>
                  <td><input class="btn btn-primary" type="file" id="ConfFile"></td>
                </tr>
              </tbody>
            </table>
          </div>

          <div class="ref-side">
            <table class="table-fixed compact">
              <tbody>
                <tr>
                  <td class="cell-dark">Geometry</td>
                  <td>
                    <select id="_Geom" name="Geometry" class="select-full">
                      <option value="1">Collinear</option>
                      <option value="0">Anti-collinear</option>
                    </select>
                  </td>
                </tr>
                <tr>
                  <td class="cell-dark">Harmonic</td>
                  <td>
                    <select id="_Har" name="Harmonic" class="select-full">
                      <option value="1">1</option>
                      <option value="2">2</option>
                      <option value="3">3</option>
                      <option value="4">4</option>
                    </select>
                  </td>
                </tr>
                <tr>
                  <td class="cell-dark">Acceleration [V]</td>
                  <td><input type="number" placeholder="0" min="0" id="_Acc" class="input-full" /></td>
                </tr>
                <tr>
                  <td class="cell-dark">Shifted Wavelength [nm]</td>
                  <td><input type="number" placeholder="0" id="_SPWl" readonly class="input-full" /></td>
                </tr>
                <tr>
                  <td class="cell-dark">Shifted Frequency [Hz]</td>
                  <td><input type="number" placeholder="0" id="_SPFq" readonly class="input-full" /></td>
                </tr>
                <tr>
                  <td class="cell-dark">Shifted Wavenumber [cm-1]</td>
                  <td><input type="number" placeholder="0" id="_SPWn" readonly class="input-full" /></td>
                </tr>
                <tr>
                  <td class="cell-dark">Laser Set Point [cm-1]</td>
                  <td><input type="number" placeholder="0" min="0" id="_LSPWn" class="input-full" /></td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </section>

    <!-- Isotope table: spans full container width and scrolls horizontally on small screens -->
    <section class="card isotope-card" aria-labelledby="isotopes-heading">
      <div class="card-header">
        <h2 id="isotopes-heading" class="card-title">Isotopes</h2>
        <div class="card-actions">
          <button class="btn btn-primary" onclick="addRow(); setCookies();">Add Row</button>
          <button class="btn btn-primary" onclick="rmRow(); setCookies();">Remove Row</button>
        </div>
      </div>
      <div class="card-body">
        <div class="table-wrapper">
          <table class="table-fixed" id="isotab">
            <thead>
              <tr>
                <th class="header-dark">Draw</th>
                <th class="header-dark">A</th>
                <th class="header-dark">Z</th>
                <th class="header-dark">El</th>
                <th class="header-dark">Mass [amu]</th>
                <th class="header-dark">Spin</th>
                <th class="header-dark">Isotope shift [MHz]</th>
                <th class="header-dark">Voltage shift [V]</th>
                <th class="header-dark">B lower [MHz]</th>
                <th class="header-dark">A lower [MHz]</th>
                <th class="header-dark">B upper [MHz]</th>
                <th class="header-dark">A upper [MHz]</th>
              </tr>
            </thead>
            <tbody>
              <tr id="isorow_0">
                <td class="tg-amwm text-center"><input type="checkbox" class="iso-select" id="_select_0" /></td>
                <td class="tg-amwm text-center"><input type="number" placeholder="[A]" min="0" max="294" step="1" id="_A_0" class="input-full text-center" /></td>
                <td class="tg-amwm text-center"><input type="number" placeholder="[Z]" min="0" max="118" step="1" id="_Z_0" class="input-full text-center" /></td>
                <td class="tg-amwm text-center"><input type="text" placeholder="[El]" list="Elements" id="_El_0" class="input-full text-center" /></td>
                <td class="tg-amwm text-center"><input type="number" placeholder="[u]" min="0" step="0.0001" id="_Massu_0" class="input-full text-center" /></td>
                <td class="tg-amwm text-center"><input placeholder="[I]" id="_I_0" class="input-full text-center" /></td>
                <td class="tg-amwm text-center"><input type="number" placeholder="0" id="_Fqshift_0" step="0.001" class="input-full text-center" /></td>
                <td class="tg-amwm text-center"><input type="number" placeholder="0" id="_Vshift_0" readonly step="0.001" class="input-full text-center" /></td>
                <td class="tg-amwm text-center"><input type="number" placeholder="B lower" id="_Blow_0" step="0.001" class="input-full text-center" /></td>
                <td class="tg-amwm text-center"><input type="number" placeholder="A lower" id="_Alow_0" step="0.001" class="input-full text-center" /></td>
                <td class="tg-amwm text-center"><input type="number" placeholder="B upper" id="_Bup_0" step="0.001" class="input-full text-center" /></td>
                <td class="tg-amwm text-center"><input type="number" placeholder="A upper" id="_Aup_0" step="0.001" class="input-full text-center" /></td>
              </tr>
            </tbody>
          </table>
        </div>
      </div>
    </section>

    <!-- Plot: full width under the isotope table -->
    <section class="card plot-card" aria-labelledby="plot-heading">
      <h2 id="plot-heading" class="card-title">Hyperfine Spectrum</h2>
      <div class="card-body">
        <div id="hfs_plotly" class="plot-container"></div>
      </div>
    </section>
  </div>

  <datalist id="Elements"></datalist>

  <script src="dopplercalc.js?v=3"></script>

  </body>
</html>